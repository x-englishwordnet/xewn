UPSTREAM:
commit 89bb8a57e9375957e7e60d4314c15dc0d25ff630
Author: John P. McCrae <john@mccr.ae>
Date:   Mon Jun 28 10:05:16 2021 +0100

    Fix validity issues
