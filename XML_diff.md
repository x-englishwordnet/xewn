<p align="center">
<img width="256" height="256" src="images/xewn2.png">
</p>

# XML diffs

Please note this independent initiative is not endorsed by the Global WordNet Association. Data issues should be referred to the upstream project.

This project  produces a __transformed__ version of English WordNet data in the form of augmented / transformed XML files in the __xsrc__ directory. 

This is to review the main differences.

### Generated attributes added to Sense elements (structural data)

These attributes are added to *Sense* elements. Whenever the database is frozen, they are generated to capture :
 -  the state of the database
 -  information that disappears when merging
 -  information that would be overly difficult to retrieve
 -  information that is not otherwise explicit

1. '*sensekey*' (internal, generated from database image)
2. '*sensenum*' (generated, index of Sense in LexicalEntry)
3. '*lexid*' (generated, lexid in WordNet's sense, see below)
4. '*order*' (generated, to define an ordering in synset members)
5. '*lexfile*' (generated when merging, to point to the file that provides the source data)
5. '*adjIsHead*' (generated, whether this adjective is head)
6. '*adjHead*' (generated, a pointer from satellite to head)
7. '*verbFrames*' (generated as a list of references from syntacticBehaviour elements)

An incidental benefit is that you can dispense with parsing IDs which are returned to their optimal status: opaque.

### Imported attributes added to Sense elements (extra data)

These attributes are added to *Sense* elements to import information present in PWN but not in EWN. So that XEWN is lossless relative to PWN.

8. '*verbTemplates*' (generated as a list of references to sentence templates)
9. '*tagCnt*' (generated from cntlist.rev file)
10. '*adjPosition*' (obsolete now that EWN has its own attribute, generated from update file)

### Element

SyntacticBehaviours are factored out to avoid redundancy. Syntactic behaviours are referenced by an IDREFs list attribute in Sense instead. 

## ![Warning](images/star.png  "Warning") Lexid

The old specification defined lexids this way:

> One digit hexadecimal integer that, when appended onto lemma , uniquely
> identifies a sense within a lexicographer file. lex_id numbers usually
> start with 0 , and are incremented as additional senses of the word are
> added to the same file, although there is no requirement that the
> numbers be consecutive or begin with 0 . Note that a value of 0 is the
> default, and therefore is not present in lexicographer files.

This used to limit the number of senses to 16 per lexicographer file. Now the lexicographer files have changed formats and no longer use this scheme to distinguish senses. So the old lexid is left orphaned (it's a reference to something that no longer exists in the new lexicographer files).

Lexid is now defined as:
> - __0__ if the sense is unique in the lexical entry
> - __the 1-based index of the sense__ within the lexical entry (in case of multiple senses in the lexical entry).

The __0 index__ refers to a unique sense in the lexical entry. One has to think of the __0 index__ as reserved and meaning '*all senses*', the way 0 means '*all synset members*' in some contexts. Please note that 0 and 1 both refer to the first sense, the first notation indicating it is single.

The range is now not limited to [0-15] and can exceed it.

The implication is that the lexid field after each lemma member in the data files can exceed the value expressed by one hexadecimal character. This does not seem to pose a problem for most parsers which assume a space-separated numerical field rather than a fixed  length of one byte.

## ![Warning](images/star.png  "Warning") Sensekeys

Sensekeys are __generated__ . Please note this is what happens with PWN. Nowhere are sensekeys to be found in the lexicographer files, they are not part of the core data and are generated by *grind* whenever a release is published. Any reordering or reshuffling in the lexicographer files (and there is no guarantee they will not change) is reflected in a change in the sensekeys. A common error has been to think of them as names for senses that persist down the generations and across different versions. They are hardly this.

If the senses are not reordered in the source files, the same sensekeys will be generated, so sensekeys can be considered a measure of stability in the database.

IN XEWN, __each sense has a unique sensekey__ that works as an *inner* key to the database senses.

The PWN31 sensekeys are still available in the XML files but they are not used here. They are considered __foreign__ keys.

Note that a sensemap file is provided, generated by one of the XSL scripts, that maps a sense ID-sensekey pair to a PWN31 sensekey, if it exists. The mapping may be *sparse* due to every sense.

Sensekeys now **support case-sensitivity.** This is a consequence of EWN considering 'Baroque' and 'baroque' different entities, each lying in a different &lt;LexicalEntry&gt; (BTW this may be questionable because 'Baroque' is as different from 'baroque' as it is from 'bar').

[See also](sensekeys.md)

## ![Warning](images/star.png  "Warning") Order attribute

An example: 

'*decrease*' is the head of a number of satellites:

	attenuate%5:00:00:decreased:00
	belittled%5:00:00:decreased:00
	weakened%5:00:00:decreased:00
	faded%5:00:00:decreased:00
	minimized%5:00:02:decreased:00
	cut%5:00:00:decreased:00
	small%5:00:00:decreased:00
	shrivelled%5:00:00:decreased:00
	shrunken%5:00:00:decreased:00
	diminished%5:00:01:decreased:00
	diminished%5:00:02:decreased:00
	bated%5:00:00:decreased:00
	ablated%5:00:00:decreased:00
	slashed%5:00:00:decreased:00
	attenuated%5:00:00:decreased:00
	attenuated%5:00:02:decreased:00
	remittent%5:00:00:decreased:00
	shriveled%5:00:00:decreased:00
	
Thus head status is by virtue of its having an antonym, 'increased'. As head, it must come first in the ordering of synset member (part of the WNDB specification).

PWN31, data.adj line 4873

	00884977 00 a 02 decreased 0 reduced 4 011 ! 00883449 a 0101 & 00885260 a 0000 & 00885408 a 0000 & 00885554 a 0000 & 00885704 a 0000 & 00885822 a 0000 & 00885984 a 0000 & 00886132 a 0000 & 00886317 a 0000 & 00886430 a 0000 & 00886587 a 0000 | made less in size or amount or degree
	
However, in EWN (see data below)

- if you rely on sense ordering, it comes second (line 94267 after 93934 for 'reduced').
- undocumented 'n' attribute is of no help, it's  0 both for 'reduced' and 'decreased'.
- the rank information lurks in the ID but IDs should be considered opaque

EWN, wn-adj.all line 93934

    <LexicalEntry id="ewn-reduced-a">
      <Lemma writtenForm="reduced" partOfSpeech="a"/>
      <Sense id="ewn-reduced-a-00884977-02" n="0" synset="ewn-00884977-a" dc:identifier="reduced%3:00:04::"/>
    </LexicalEntry>

EWN, wn-adj.all line 94267

    <LexicalEntry id="ewn-decreased-a">
      <Lemma writtenForm="decreased" partOfSpeech="a"/>
      <Sense id="ewn-decreased-a-00884977-01" n="0" synset="ewn-00884977-a" dc:identifier="decreased%3:00:00::">
        <SenseRelation relType="antonym" target="ewn-increased-a-00883449-01"/> <!-- increased -->
        </Sense>
    </LexicalEntry>
